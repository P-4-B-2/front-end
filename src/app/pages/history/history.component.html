<h1 class="text-3xl font-bold text-center mb-6">Bench History</h1>

<div *ngIf="!(histories$ | async)?.length" class="text-center text-lg text-gray-500">
  No history found.
</div>

<div *ngIf="(histories$ | async)?.length" class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div *ngFor="let history of histories$ | async" class="bg-white shadow-lg rounded-lg p-6 flex flex-col space-y-4">
    <div class="flex items-center space-x-4">
      <div class="text-xl font-semibold">{{ history.bench?.name }}</div>
      <span *ngIf="history.status?.type === 'Inactive'" class="w-3 h-3 rounded-full bg-red-500"></span>
      <span *ngIf="history.status?.type === 'Active'" class="w-3 h-3 rounded-full bg-green-500"></span>
    </div>
    <div class="text-sm text-gray-600">
      <strong>Location:</strong> {{ history.location?.address || 'Fetching location...' }}
    </div>
    <div class="flex items-center space-x-4">
      <div class="text-sm">Status: {{ history.status?.type }}</div>
      <label class="inline-flex items-center cursor-pointer">
        <input type="checkbox" class="hidden" [checked]="history.status?.type === 'Active'" (change)="toggleStatus(history)">
        <span 
          class="w-10 h-4 rounded-full inline-block relative transition-all duration-200 ease-in-out"
          [ngClass]="{
            'bg-green-500': history.status?.type === 'Active',
            'bg-red-500': history.status?.type === 'Inactive'
          }">
          <span 
            class="absolute left-0 top-0 w-6 h-4 bg-white rounded-full shadow-md transition-all duration-200 ease-in-out" 
            [class.translate-x-6]="history.status?.type === 'Active'">
          </span>
        </span>
      </label>
    </div>
  </div>
</div>
